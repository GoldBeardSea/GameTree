<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Play</title>
</head>
<body>
<div id="main">
    <h1>GameTree</h1>
    <h2>Play</h2>
</div>
<div id="frame">
    <table id = table>
        <tr>
            <td id="c1r6">*</td>
            <td id="c2r6">*</td>
            <td id="c3r6">*</td>
            <td id="c4r6">*</td>
            <td id="c5r6">*</td>
            <td id="c6r6">*</td>
            <td id="c7r6">*</td>
        </tr>
        <tr>
            <td id="c1r5">*</td>
            <td id="c2r5">*</td>
            <td id="c3r5">*</td>
            <td id="c4r5">*</td>
            <td id="c5r5">*</td>
            <td id="c6r5">*</td>
            <td id="c7r5">*</td>
        </tr>
        <tr>
            <td id="c1r4">*</td>
            <td id="c2r4">*</td>
            <td id="c3r4">*</td>
            <td id="c4r4">*</td>
            <td id="c5r4">*</td>
            <td id="c6r4">*</td>
            <td id="c7r4">*</td>
        </tr>
        <tr>
            <td id="c1r3">*</td>
            <td id="c2r3">*</td>
            <td id="c3r3">*</td>
            <td id="c4r3">*</td>
            <td id="c5r3">*</td>
            <td id="c6r3">*</td>
            <td id="c7r3">*</td>
        </tr>
        <tr>
            <td id="c1r2">*</td>
            <td id="c2r2">*</td>
            <td id="c3r2">*</td>
            <td id="c4r2">*</td>
            <td id="c5r2">*</td>
            <td id="c6r2">*</td>
            <td id="c7r2">*</td>
        </tr>
        <tr>
            <td id="c1r1">*</td>
            <td id="c2r1">*</td>
            <td id="c3r1">*</td>
            <td id="c4r1">*</td>
            <td id="c5r1">*</td>
            <td id="c6r1">*</td>
            <td id="c7r1">*</td>
        </tr>
    </table>
</div>
</body>
<script th:inline="javascript">

var gameArray = [[${gameArray}]];
var table = document.getElementById("table");
table.addEventListener("click", tableclicked);

function tableclicked(event) {
  let id = event.target.id;
  let column = id.charAt(1) - 1;
  console.log(id);
}

function drawboard(board) {
  // board is a [6][7] array of integers.
  for (let row = 0; row < 6; row++) {
    for (let column = 0; column < 7; column++) {
      let string = "c" + (column + 1) + "r" + (row + 1);

      let newtd = document.getElementById(string);

      if (board[row][column] === 1) {
        newtd.style.backgroundColor="red";
      } else if (board[row][column] === -1) {
        newtd.style.backgroundColor="yellow";
      }
    }
  }
}

drawboard(gameArray)
</script>
</html>